(()=>{var p=e=>e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement,u=(e,n)=>{switch(e.type){case"checkbox":n.value=`${e.checked}`;break;case"radio":{let r=e.closest("form"),m=r==null?void 0:r.querySelector(`input[name="${e.name}"]:checked`);m&&(n.value=m.value);break}default:n.value=e.value}};var f=e=>{let n=e.getFormElem()[0],r=document.querySelector(`[data-marketo-id="${e.getId()}"]`);if(!r)return;let m=r.querySelector(".w-form-fail"),c=new Map,s=()=>{let d=r.querySelectorAll("[data-marketo-id]");for(let l of d){let o=n.querySelector(`#${l.dataset.marketoId}`);!o||(o.type!==l.type&&l.setAttribute("type",o.type),c.set(l,o))}},i=d=>{let l=d.target;if(!p(l))return;let o=c.get(l);if(!!o){switch(l.type){case"checkbox":case"radio":if(!(o instanceof HTMLInputElement)||o.type!=="checkbox"&&o.type!=="radio")break;o.checked=l.checked;break;default:o.value=l.value}o.dispatchEvent(new Event("change",{bubbles:!0}))}},t=()=>{!m||(m.style.display="block")},a=d=>{if(!e.validate()){d.preventDefault(),d.stopPropagation(),t();return}e.submit()};s(),r.addEventListener("input",i),r.addEventListener("submit",a)},F=f;window.formMirroring={marketo:f};var h=e=>{var s;let n=document.querySelector(e);if(!n)return;let r=n.querySelectorAll('input[type="checkbox"], input[type="radio"], select'),m=new Map;for(let i of r){let t=(s=[...m].find(a=>i.name===a[1].name))==null?void 0:s[1];t||(t=document.createElement("input"),t.type="hidden",t.name=i.name,u(i,t),n.append(t)),i.name=`_${i.name}`,m.set(i,t)}let c=i=>{let t=i.target;if(!p(t))return;let a=m.get(t);!a||u(t,a)};n.addEventListener("input",c)},y=h;window.formMirroring={mailchimp:h};var w={marketo:F,mailchimp:y};window.formMirroring=w;})();
