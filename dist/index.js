(()=>{var p=e=>e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement,k=e=>p(e)?[e]:[...e.querySelectorAll("input, select, textarea")],y=(e,i)=>{switch(e.type){case"checkbox":i.value=`${e.checked}`;break;case"radio":{let r=e.closest("form"),s=r==null?void 0:r.querySelector(`input[name="${e.name}"]:checked`);s&&(i.value=s.value);break}default:i.value=e.value}},v=e=>{e.type==="checkbox"||e.type==="radio"?e.checked=!1:e.value=""};var E=e=>{let i=e.getFormElem()[0],r=document.querySelector(`[data-marketo-id="${e.getId()}"]`);if(!r)return;let s=r.querySelector(".w-form-fail"),a=[],b=()=>{let d=r.querySelectorAll("[data-marketo-id]");for(let n of d){let t=i.querySelector(`#${n.dataset.marketoId}`);!t||(t.type!==n.type&&n.setAttribute("type",t.type),a.push({webflowField:n,marketoField:t}))}},l=(d,n)=>{let t=d==="webflowField"?"marketoField":"webflowField",f=a.find(c=>c[t]===n);if(f)return f[d]},o=()=>{let d=t=>{for(let f of t){for(let c of f.addedNodes){if(!(c instanceof Element))continue;let F=k(c);if(!!F.length)for(let w of F){let u=w.id,h=r.querySelector(`[data-marketo-id="${u}"]`);h&&a.push({webflowField:h,marketoField:w})}}for(let c of f.removedNodes){if(!(c instanceof Element))continue;let F=k(c);if(!!F.length)for(let w of F){let u=l("webflowField",w);!u||(v(u),a.filter(h=>h.webflowField!==u))}}}};new MutationObserver(d).observe(i,{subtree:!0,childList:!0})},m=d=>{let n=d.target;if(!p(n))return;let t=l("marketoField",n);if(!!t){switch(n.type){case"checkbox":case"radio":if(!(t instanceof HTMLInputElement)||t.type!=="checkbox"&&t.type!=="radio")break;t.checked=n.checked;break;default:t.value=n.value}t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))}},x=()=>{!s||(s.style.display="block")},I=d=>{if(!e.validate()){d.preventDefault(),d.stopPropagation(),x();return}e.submit()};b(),o(),r.addEventListener("input",m),r.addEventListener("submit",I)},M=E;window.formMirroring={marketo:E};var L=e=>{var b;let i=document.querySelector(e);if(!i)return;let r=i.querySelectorAll('input[type="checkbox"], input[type="radio"], select'),s=new Map;for(let l of r){let o=(b=[...s].find(m=>l.name===m[1].name))==null?void 0:b[1];o||(o=document.createElement("input"),o.type="hidden",o.name=l.name,y(l,o),i.append(o)),l.name=`_${l.name}`,s.set(l,o)}let a=l=>{let o=l.target;if(!p(o))return;let m=s.get(o);!m||y(o,m)};i.addEventListener("input",a)},T=L;window.formMirroring={mailchimp:L};var S={marketo:M,mailchimp:T};window.formMirroring=S;})();
