(()=>{var i=o=>o instanceof HTMLInputElement||o instanceof HTMLSelectElement||o instanceof HTMLTextAreaElement;var c=o=>{let s=o.getFormElem()[0],n=document.querySelector(`[data-marketo-id="${o.getId()}"]`);if(!n)return;let l=n.querySelector(".w-form-fail"),a=new Map,d=()=>{let r=n.querySelectorAll("[data-marketo-id]");for(let t of r){let e=s.querySelector(`#${t.dataset.marketoId}`);!e||(e.type!==t.type&&t.setAttribute("type",e.type),a.set(t,e))}},m=r=>{let t=r.target;if(!i(t))return;let e=a.get(t);if(!!e){switch(t.type){case"checkbox":case"radio":if(!(e instanceof HTMLInputElement)||e.type!=="checkbox"&&e.type!=="radio")break;e.checked=t.checked;break;default:e.value=t.value}e.dispatchEvent(new Event("change",{bubbles:!0}))}},u=()=>{!l||(l.style.display="block")},p=r=>{if(!o.validate()){r.preventDefault(),r.stopPropagation(),u();return}o.submit()};d(),n.addEventListener("input",m),n.addEventListener("submit",p)},k=c;window.formMirroring={marketo:c};})();
