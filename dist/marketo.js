(()=>{var c=o=>o instanceof HTMLInputElement||o instanceof HTMLSelectElement||o instanceof HTMLTextAreaElement;var p=o=>{let i=o.getFormElem()[0],n=document.querySelector(`[data-marketo-id="${o.getId()}"]`);if(!n)return;let l=n.querySelector(".w-form-fail"),a=new Map,s=()=>{let r=n.querySelectorAll("[data-marketo-id]");for(let t of r){let e=i.querySelector(`#${t.dataset.marketoId}`);!e||(e.type!==t.type&&t.setAttribute("type",e.type),a.set(t,e))}},d=r=>{let t=r.target;if(!c(t))return;let e=a.get(t);if(!!e){switch(t.type){case"checkbox":case"radio":if(!(e instanceof HTMLInputElement)||e.type!=="checkbox"&&e.type!=="radio")break;e.checked=t.checked;break;default:e.value=t.value}e.dispatchEvent(new Event("change",{bubbles:!0}))}},m=()=>{!l||(l.style.display="block")},u=r=>{if(!o.validate()){r.preventDefault(),r.stopPropagation(),m();return}o.submit()};s(),n.addEventListener("input",d),n.addEventListener("submit",u)},y=p;})();
